[run]
command = "cd backend && python -m gunicorn app:app --bind 0.0.0.0:10000"

[packager]
afterInstall = "cd frontend && npm install"

[deployment]
run = [
  "cd frontend && npm run build",
  "cp -r frontend/build/* backend/static/"
]

[interpreter]
entrypoint = "backend/app.py"

[debugger]
support = true
watch = ["backend/"]

[unitTest]
enabled = false

[languages.python]
pattern = "**/*.py"

[languages.javascript]
pattern = "frontend/**/*.js"

[env]
PYTHONPATH = "${PYTHONPATH}:${PWD}/backend"
FLASK_APP = "app.py"
FLASK_ENV = "development"
